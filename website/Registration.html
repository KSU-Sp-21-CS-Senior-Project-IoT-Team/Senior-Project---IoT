<!DOCTYPE html>
<head><link rel = "stylesheet" href = "style.css"></head>
<body class = "register">

        <div class = "topnav">
                <a href="index.html">Home</a>
                <a href="login.html">Login</a>
                <a href="Device_Registration.html">Registration</a>
                <a href="Device_Management.html">Device Management</a></body>
            </div>   
        <div class = "register-page">
            <div class = "form">
                Register Here
                <form class = "registration form">
                <input type = "text" placeholder = "user name" id = "user"/>
                <input type = "password" placeholder = "password" id = "pass"/>
                <input type = "text" placeholder = "email"/>
                <button onclick="showAlert(),registerFunction()"> Create </button>
                <p class = "msg">Have an account? <a href ="login.html"> Login </a></p>
                </form>


                <script>
                    
            function registerFunction(){
                    var userpass = document.getElementById("user"+":"+"pass");
                    var serveruserpass = btoa(userpass);
                    var request = new XMLHttpRequest();
                    request.open('POST','http://sabernet.ddns.net:8080/api/register');
                    request.setRequestHeader('Authorization', 'Basic' + serveruserpass);
                    request.send();
            }
            function showAlert(){
                alert("Registration Complete!");
            }
                </script>
            </div>

        </div>
    </body>
